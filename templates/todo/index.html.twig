{% extends 'base.html.twig' %}

{% block title %}Hello TodoController!{% endblock %}

{% block body %}

    <div style="height: 100vh; ">
        <div style="width: 20vw; height: 30vh; border: #B0413E solid 1px;  margin-left: 40%; margin-top: 3%; margin-bottom: 2%; border-radius: 15%; display: flex; flex-direction: column; align-items: center; justify-content: center; box-shadow: 5px 5px   #93c5fd">
        <h3 style="color: #B0413E">Create New Todo</h3>
            {{ form_errors(todoForm) }}
            {{ form_start(todoForm) }}
            {{ form_row(todoForm.name) }}
            <br>
<div style="margin-left: 33%">
            <button type="submit" class="btn btn-primary py-2">Add Todo</button>
</div>
            {{ form_end(todoForm) }}
        </div>
        <div>
            <h3 style="color: #B0413E; text-align: center">Todo List</h3>
        <div style="overflow: auto; height: 56vh;  width:100vw">
        {% if todo_list | length <= 0 %}
            <h3>You have no todos right now</h3>
        {% else %}
<br>
            <table class="table">
                <thead class="thead-dark">
                <tr>
                    <th scope="col">No.</th>
                    <th scope="col">Description</th>
                    <th scope="col">Status</th>
                    <th scope="col">Actions</th>
                </tr>
                </thead>
                <tbody>

            {% for todo in todo_list %}




                    <tr>
                        <th scope="row">{{ todo.getId() }}</th>
                        <td>{{ todo.getName() }}</td>
                        <td>{{ todo.getStatus() }}</td>
                        <td>
                            <form action="/deleteTodo">

                                <input type="hidden" name="todoId" value="{{ todo.getId() }}">
                            <button class="btn btn-outline-primary py-2" >Delete</button>
                            </form>
                            <form action="/viewEditTodo">
                                <input type="hidden" name="todoName" value="{{ todo.getName() }}">
                                <input type="hidden" name="todoStatus" value="{{ todo.getStatus() }}">
                                <input type="hidden" name="todoId" value="{{ todo.getId() }}">
                            <button class="btn btn-outline-primary py-2" >Edit</button>
                            </form>
                        </td>
                    </tr>


            {% endfor %}

                </tbody>

            </table>

    {% endif %}
        </div>
        </div>
    </div>
{% endblock %}
